{"version":3,"sources":["webpack:///./node_modules/react-bootstrap/esm/divWithClassName.js","webpack:///./node_modules/react-bootstrap/esm/CardContext.js","webpack:///./node_modules/react-bootstrap/esm/CardImg.js","webpack:///./node_modules/react-bootstrap/esm/Card.js","webpack:///./src/components/DealCard.jsx","webpack:///./src/pages/index.jsx","webpack:///./src/components/Loader.jsx","webpack:///./node_modules/react-bootstrap/esm/Spinner.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.string.link.js"],"names":["forwardRef","p","ref","createElement","className","createContext","CardImg","_ref","bsPrefix","variant","_ref$as","as","Component","props","prefix","displayName","defaultProps","DivStyledAsH5","divWithClassName","DivStyledAsH6","CardBody","createWithBsPrefix","Card","bg","text","border","body","children","cardContext","cardHeaderBsPrefix","CardContext","Provider","value","Img","Title","Subtitle","Body","Link","Text","Header","Footer","ImgOverlay","DealCard","name","price","isFree","expires","image","link","now","Date","style","width","toDateString","Fragment","href","rel","target","backgroundImage","IndexPage","state","deals","loading","error","componentDidMount","cutoff","setDate","getDate","firebase","firestore","collection","where","orderBy","onSnapshot","querySnapshot","setState","docs","map","doc","data","deal","toDate","render","this","title","toString","i","key","React","SpinnerContainer","styled","div","Loader","animation","role","Spinner","size","bsSpinnerPrefix","createHTML","url"],"mappings":"+MAGgB,cACd,OAAO,IAAMA,YAAW,SAAUC,EAAGC,GACnC,OAAO,IAAMC,cAAc,MAAO,YAAS,GAAIF,EAAG,CAChDC,IAAKA,EACLE,UAAW,IAAWH,EAAEG,UAAWA,UCN1B,MAAMC,cAAc,MCO/BC,EAAU,IAAMN,YACpB,SAAUO,EAAML,GACd,IAAIM,EAAWD,EAAKC,SAChBJ,EAAYG,EAAKH,UACjBK,EAAUF,EAAKE,QACfC,EAAUH,EAAKI,GACfC,OAAwB,IAAZF,EAAqB,MAAQA,EACzCG,EAAQ,YAA8BN,EAAM,CAAC,WAAY,YAAa,UAAW,OAEjFO,EAAS,YAAmBN,EAAU,YAC1C,OAAO,IAAML,cAAcS,EAAW,YAAS,CAC7CV,IAAKA,EACLE,UAAW,IAAWK,EAAUK,EAAS,IAAML,EAAUK,EAAQV,IAChES,OAELP,EAAQS,YAAc,UACtBT,EAAQU,aAnBW,CACjBP,QAAS,MAmBI,QChBXQ,EAAgBC,EAAiB,MACjCC,EAAgBD,EAAiB,MACjCE,EAAW,OAAAC,EAAA,GAAmB,aAI9BC,EAAO,IAAMtB,YAAW,SAAUO,EAAML,GAC1C,IAAIM,EAAWD,EAAKC,SAChBJ,EAAYG,EAAKH,UACjBmB,EAAKhB,EAAKgB,GACVC,EAAOjB,EAAKiB,KACZC,EAASlB,EAAKkB,OACdC,EAAOnB,EAAKmB,KACZC,EAAWpB,EAAKoB,SAChBjB,EAAUH,EAAKI,GACfC,OAAwB,IAAZF,EAAqB,MAAQA,EACzCG,EAAQ,YAA8BN,EAAM,CAAC,WAAY,YAAa,KAAM,OAAQ,SAAU,OAAQ,WAAY,OAElHO,EAAS,YAAmBN,EAAU,QACtCoB,EAAc,mBAAQ,WACxB,MAAO,CACLC,mBAAoBf,EAAS,aAE9B,CAACA,IACJ,OAAO,IAAMX,cAAc2B,EAAYC,SAAU,CAC/CC,MAAOJ,GACN,IAAMzB,cAAcS,EAAW,YAAS,CACzCV,IAAKA,GACJW,EAAO,CACRT,UAAW,IAAWA,EAAWU,EAAQS,GAAM,MAAQA,EAAIC,GAAQ,QAAUA,EAAMC,GAAU,UAAYA,KACvGC,EAAO,IAAMvB,cAAciB,EAAU,KAAMO,GAAYA,OAE7DL,EAAKP,YAAc,OACnBO,EAAKN,aA9Bc,CACjBU,MAAM,GA8BRJ,EAAKW,IAAM,EACXX,EAAKY,MAAQ,OAAAb,EAAA,GAAmB,aAAc,CAC5CT,UAAWK,IAEbK,EAAKa,SAAW,OAAAd,EAAA,GAAmB,gBAAiB,CAClDT,UAAWO,IAEbG,EAAKc,KAAOhB,EACZE,EAAKe,KAAO,OAAAhB,EAAA,GAAmB,YAAa,CAC1CT,UAAW,MAEbU,EAAKgB,KAAO,OAAAjB,EAAA,GAAmB,YAAa,CAC1CT,UAAW,MAEbU,EAAKiB,OAAS,OAAAlB,EAAA,GAAmB,eACjCC,EAAKkB,OAAS,OAAAnB,EAAA,GAAmB,eACjCC,EAAKmB,WAAa,OAAApB,EAAA,GAAmB,oBACtB,QCtBAqB,IAnCE,SAAC,GAAmD,IAAjDC,EAAgD,EAAhDA,KAAMC,EAA0C,EAA1CA,MAAOC,EAAmC,EAAnCA,OAAQC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,KACjDC,EAAM,IAAIC,KAEhB,OACE,kBAAC,EAAD,CAAMC,MAAO,CAAEC,MAAO,SAAWhD,UAAW0C,EAAUG,GAAO,WAC3D,kBAAC,EAAKV,OAAN,KACGO,EAAUG,EACT,gCACE,uCAAaH,EAAQO,iBAGvB,kBAAC,IAAMC,SAAP,cAAuBR,EAAQO,iBAGnC,uBAAGE,KAAMP,EAAMQ,IAAI,sBAAsBC,OAAO,UAC9C,yBACErD,UAAU,eACV+C,MAAO,CACLO,gBAAgB,QAASX,EAAV,SAIrB,kBAAC,EAAKX,KAAN,KACE,kBAAC,EAAKF,MAAN,KAAaS,GACb,kBAAC,EAAKR,SAAN,CAAe/B,UAAU,mBACtByC,EAAS,QAAH,IAAiBD,GAE1B,uBAAGW,KAAMP,EAAMQ,IAAI,sBAAsBC,OAAO,UAAhD,e,sLCrBFE,E,6PACJC,MAAQ,CACNC,MAAO,GACPC,SAAS,EACTC,MAAO,M,6BAGTC,kBAAA,WAAqB,IAAD,OACZC,EAAS,IAAIf,KACnBe,EAAOC,QAAQD,EAAOE,UAAY,GAClCC,IACGC,YACAC,WAAW,SACXC,MAAM,UAAW,KAAMN,GACvBO,QAAQ,UAAW,OACnBC,YAAW,SAAAC,GAAa,OACvB,EAAKC,SAAS,CACZd,MAAOa,EAAcE,KAClBC,KAAI,SAAAC,GAAG,OAAIA,EAAIC,UACfF,KAAI,SAAAG,GACH,OAAO,OAAP,UACKA,EADL,CAEElC,QAASkC,EAAKlC,QAAQmC,cAG5BnB,SAAS,Q,EAKjBoB,OAAA,WAAU,IAAD,EAC2BC,KAAKvB,MAA/BC,EADD,EACCA,MAAOC,EADR,EACQA,QAASC,EADjB,EACiBA,MAExB,OAAID,EAAgB,kBAAC,IAAD,MAGlB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKsB,MAAM,SACVrB,GACC,kBAAC,IAAMT,SAAP,KACE,sCACA,2BAAIS,EAAMsB,aAGd,kBAAC,IAAD,KACGxB,GAASA,EAAMgB,KAAI,SAACG,EAAMM,GAAP,OAAa,kBAAC,IAAD,eAAUC,IAAKD,GAAON,U,GA7CzCQ,IAAM5E,WAoDf+C,a,+UCzDf,IAAM8B,EAAmBC,IAAOC,IAAV,KAmBPC,IARA,kBACb,kBAACH,EAAD,KACE,kBAAC,IAAD,CAASI,UAAU,SAASC,KAAK,SAASrF,QAAQ,WAChD,0BAAML,UAAU,WAAhB,kB,oCClBN,kFAKI2F,EAAU,IAAM/F,YAAW,SAAUO,EAAML,GAC7C,IAAIM,EAAWD,EAAKC,SAChBC,EAAUF,EAAKE,QACfoF,EAAYtF,EAAKsF,UACjBG,EAAOzF,EAAKyF,KACZrE,EAAWpB,EAAKoB,SAChBjB,EAAUH,EAAKI,GACfC,OAAwB,IAAZF,EAAqB,MAAQA,EACzCN,EAAYG,EAAKH,UACjBS,EAAQ,YAA8BN,EAAM,CAAC,WAAY,UAAW,YAAa,OAAQ,WAAY,KAAM,cAG3G0F,GADJzF,EAAW,YAAmBA,EAAU,YACP,IAAMqF,EACvC,OAAO,IAAM1F,cAAcS,EAAW,YAAS,CAC7CV,IAAKA,GACJW,EAAO,CACRT,UAAW,IAAWA,EAAW6F,EAAiBD,GAAQC,EAAkB,IAAMD,EAAMvF,GAAW,QAAUA,KAC3GkB,MAENoE,EAAQhF,YAAc,UACP,O,kCCvBf,EAAQ,OAAR,CAA0B,QAAQ,SAAUmF,GAC1C,OAAO,SAAcC,GACnB,OAAOD,EAAWf,KAAM,IAAK,OAAQgB","file":"component---src-pages-index-jsx-8994ba9b899b2354e7c7.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport classNames from 'classnames';\nexport default (function (className) {\n  return React.forwardRef(function (p, ref) {\n    return React.createElement(\"div\", _extends({}, p, {\n      ref: ref,\n      className: classNames(p.className, className)\n    }));\n  });\n});","import React from 'react';\nexport default React.createContext(null);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  variant: null\n};\nvar CardImg = React.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      variant = _ref.variant,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'img' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"variant\", \"as\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'card-img');\n  return React.createElement(Component, _extends({\n    ref: ref,\n    className: classNames(variant ? prefix + \"-\" + variant : prefix, className)\n  }, props));\n});\nCardImg.displayName = 'CardImg';\nCardImg.defaultProps = defaultProps;\nexport default CardImg;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useMemo } from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport divWithClassName from './divWithClassName';\nimport CardContext from './CardContext';\nimport CardImg from './CardImg';\nvar DivStyledAsH5 = divWithClassName('h5');\nvar DivStyledAsH6 = divWithClassName('h6');\nvar CardBody = createWithBsPrefix('card-body');\nvar defaultProps = {\n  body: false\n};\nvar Card = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      bg = _ref.bg,\n      text = _ref.text,\n      border = _ref.border,\n      body = _ref.body,\n      children = _ref.children,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"bg\", \"text\", \"border\", \"body\", \"children\", \"as\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'card');\n  var cardContext = useMemo(function () {\n    return {\n      cardHeaderBsPrefix: prefix + \"-header\"\n    };\n  }, [prefix]);\n  return React.createElement(CardContext.Provider, {\n    value: cardContext\n  }, React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, prefix, bg && \"bg-\" + bg, text && \"text-\" + text, border && \"border-\" + border)\n  }), body ? React.createElement(CardBody, null, children) : children));\n});\nCard.displayName = 'Card';\nCard.defaultProps = defaultProps;\nCard.Img = CardImg;\nCard.Title = createWithBsPrefix('card-title', {\n  Component: DivStyledAsH5\n});\nCard.Subtitle = createWithBsPrefix('card-subtitle', {\n  Component: DivStyledAsH6\n});\nCard.Body = CardBody;\nCard.Link = createWithBsPrefix('card-link', {\n  Component: 'a'\n});\nCard.Text = createWithBsPrefix('card-text', {\n  Component: 'p'\n});\nCard.Header = createWithBsPrefix('card-header');\nCard.Footer = createWithBsPrefix('card-footer');\nCard.ImgOverlay = createWithBsPrefix('card-img-overlay');\nexport default Card;","import React from \"react\";\nimport Card from \"react-bootstrap/Card\";\n\nconst DealCard = ({ name, price, isFree, expires, image, link }) => {\n  const now = new Date();\n\n  return (\n    <Card style={{ width: \"18rem\" }} className={expires < now && \"expired\"}>\n      <Card.Header>\n        {expires < now ? (\n          <strong>\n            <em>Expired {expires.toDateString()}</em>\n          </strong>\n        ) : (\n          <React.Fragment>Until {expires.toDateString()}</React.Fragment>\n        )}\n      </Card.Header>\n      <a href={link} rel=\"noopener noreferrer\" target=\"_blank\">\n        <div\n          className=\"card-img-top\"\n          style={{\n            backgroundImage: `url(\"${image}\")`,\n          }}\n        />\n      </a>\n      <Card.Body>\n        <Card.Title>{name}</Card.Title>\n        <Card.Subtitle className=\"mb-2 text-muted\">\n          {isFree ? \"FREE!\" : `$${price}`}\n        </Card.Subtitle>\n        <a href={link} rel=\"noopener noreferrer\" target=\"_blank\">\n          Get it!\n        </a>\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default DealCard;\n","import React from \"react\";\nimport firebase from \"gatsby-plugin-firebase\";\n\nimport Layout from \"../components/Layout\";\nimport SEO from \"../components/SEO\";\nimport DealCard from \"../components/DealCard\";\nimport Loader from \"../components/Loader\";\nimport { DealWrapper } from \"../styles\";\n\nclass IndexPage extends React.Component {\n  state = {\n    deals: [],\n    loading: true,\n    error: null,\n  };\n\n  componentDidMount() {\n    const cutoff = new Date();\n    cutoff.setDate(cutoff.getDate() - 7);\n    firebase\n      .firestore()\n      .collection(\"deals\")\n      .where(\"expires\", \">=\", cutoff)\n      .orderBy(\"expires\", \"asc\")\n      .onSnapshot(querySnapshot =>\n        this.setState({\n          deals: querySnapshot.docs\n            .map(doc => doc.data())\n            .map(deal => {\n              return {\n                ...deal,\n                expires: deal.expires.toDate(),\n              };\n            }),\n          loading: false,\n        })\n      );\n  }\n\n  render() {\n    const { deals, loading, error } = this.state;\n\n    if (loading) return <Loader />;\n\n    return (\n      <Layout>\n        <SEO title=\"Home\" />\n        {error && (\n          <React.Fragment>\n            <h1>Uh oh!</h1>\n            <p>{error.toString()}</p>\n          </React.Fragment>\n        )}\n        <DealWrapper>\n          {deals && deals.map((deal, i) => <DealCard key={i} {...deal} />)}\n        </DealWrapper>\n      </Layout>\n    );\n  }\n}\n\nexport default IndexPage;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport Spinner from \"react-bootstrap/Spinner\";\n\nconst SpinnerContainer = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Loader = () => (\n  <SpinnerContainer>\n    <Spinner animation=\"border\" role=\"status\" variant=\"primary\">\n      <span className=\"sr-only\">Loading...</span>\n    </Spinner>\n  </SpinnerContainer>\n);\n\nexport default Loader;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Spinner = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      animation = _ref.animation,\n      size = _ref.size,\n      children = _ref.children,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"variant\", \"animation\", \"size\", \"children\", \"as\", \"className\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'spinner');\n  var bsSpinnerPrefix = bsPrefix + \"-\" + animation;\n  return React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, bsSpinnerPrefix, size && bsSpinnerPrefix + \"-\" + size, variant && \"text-\" + variant)\n  }), children);\n});\nSpinner.displayName = 'Spinner';\nexport default Spinner;","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n"],"sourceRoot":""}