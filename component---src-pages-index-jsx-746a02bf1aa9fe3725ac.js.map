{"version":3,"sources":["webpack:///./node_modules/react-bootstrap/esm/divWithClassName.js","webpack:///./node_modules/react-bootstrap/esm/CardContext.js","webpack:///./node_modules/react-bootstrap/esm/CardImg.js","webpack:///./node_modules/react-bootstrap/esm/Card.js","webpack:///./src/components/DealCard.jsx","webpack:///./src/pages/index.jsx","webpack:///./node_modules/react-bootstrap/esm/Spinner.js","webpack:///./src/components/Loader.jsx","webpack:///./node_modules/firebase/app/dist/index.cjs.js","webpack:///./node_modules/gatsby-plugin-firebase/src/firebase.js","webpack:///./node_modules/gatsby-plugin-firebase/index.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.string.link.js"],"names":["forwardRef","p","ref","createElement","className","createContext","CardImg","_ref","bsPrefix","variant","_ref$as","as","Component","props","prefix","displayName","defaultProps","DivStyledAsH5","divWithClassName","DivStyledAsH6","CardBody","createWithBsPrefix","Card","bg","text","border","body","children","cardContext","cardHeaderBsPrefix","CardContext","Provider","value","Img","Title","Subtitle","Body","Link","Text","Header","Footer","ImgOverlay","DealCard","name","price","isFree","expires","link","date","toDate","now","Date","style","width","toDateString","href","DealWrapper","styled","div","IndexPage","state","deals","loading","error","componentDidMount","firebase","firestore","collection","where","orderBy","get","then","querySnapshot","setState","docs","map","doc","data","catch","console","log","render","this","Loader","Layout","SEO","title","Fragment","toString","deal","i","key","React","Spinner","animation","size","bsSpinnerPrefix","SpinnerContainer","role","ex","registerVersion","module","exports","apps","length","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","createHTML","url"],"mappings":"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","file":"component---src-pages-index-jsx-746a02bf1aa9fe3725ac.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport classNames from 'classnames';\nexport default (function (className) {\n  return React.forwardRef(function (p, ref) {\n    return React.createElement(\"div\", _extends({}, p, {\n      ref: ref,\n      className: classNames(p.className, className)\n    }));\n  });\n});","import React from 'react';\nexport default React.createContext(null);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  variant: null\n};\nvar CardImg = React.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      variant = _ref.variant,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'img' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"variant\", \"as\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'card-img');\n  return React.createElement(Component, _extends({\n    ref: ref,\n    className: classNames(variant ? prefix + \"-\" + variant : prefix, className)\n  }, props));\n});\nCardImg.displayName = 'CardImg';\nCardImg.defaultProps = defaultProps;\nexport default CardImg;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useMemo } from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport divWithClassName from './divWithClassName';\nimport CardContext from './CardContext';\nimport CardImg from './CardImg';\nvar DivStyledAsH5 = divWithClassName('h5');\nvar DivStyledAsH6 = divWithClassName('h6');\nvar CardBody = createWithBsPrefix('card-body');\nvar defaultProps = {\n  body: false\n};\nvar Card = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      bg = _ref.bg,\n      text = _ref.text,\n      border = _ref.border,\n      body = _ref.body,\n      children = _ref.children,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"bg\", \"text\", \"border\", \"body\", \"children\", \"as\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'card');\n  var cardContext = useMemo(function () {\n    return {\n      cardHeaderBsPrefix: prefix + \"-header\"\n    };\n  }, [prefix]);\n  return React.createElement(CardContext.Provider, {\n    value: cardContext\n  }, React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, prefix, bg && \"bg-\" + bg, text && \"text-\" + text, border && \"border-\" + border)\n  }), body ? React.createElement(CardBody, null, children) : children));\n});\nCard.displayName = 'Card';\nCard.defaultProps = defaultProps;\nCard.Img = CardImg;\nCard.Title = createWithBsPrefix('card-title', {\n  Component: DivStyledAsH5\n});\nCard.Subtitle = createWithBsPrefix('card-subtitle', {\n  Component: DivStyledAsH6\n});\nCard.Body = CardBody;\nCard.Link = createWithBsPrefix('card-link', {\n  Component: 'a'\n});\nCard.Text = createWithBsPrefix('card-text', {\n  Component: 'p'\n});\nCard.Header = createWithBsPrefix('card-header');\nCard.Footer = createWithBsPrefix('card-footer');\nCard.ImgOverlay = createWithBsPrefix('card-img-overlay');\nexport default Card;","import React from \"react\";\nimport Card from \"react-bootstrap/Card\";\n\nconst DealCard = ({ name, price, isFree, expires, link }) => {\n  const date = expires.toDate();\n  const now = new Date();\n\n  return (\n    <Card style={{ width: \"18rem\" }}>\n      {date >= now && <Card.Header>Until {date.toDateString()}</Card.Header>}\n      <Card.Body>\n        <Card.Title>{name}</Card.Title>\n        <Card.Subtitle className=\"mb-2 text-muted\">\n          {isFree ? \"FREE!\" : `$${price}`}\n        </Card.Subtitle>\n        {date < now ? (\n          <strong>\n            <em>Expired {date.toDateString()}</em>\n          </strong>\n        ) : (\n          <a href={link}>Get it!</a>\n        )}\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default DealCard;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport firebase from \"gatsby-plugin-firebase\";\n\nimport Layout from \"../components/Layout\";\nimport SEO from \"../components/SEO\";\nimport DealCard from \"../components/DealCard\";\nimport Loader from \"../components/Loader\";\n\nconst DealWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  & > .card {\n    margin: 15px 0;\n  }\n`;\n\nclass IndexPage extends React.Component {\n  state = {\n    deals: [],\n    loading: true,\n    error: null,\n  };\n\n  componentDidMount() {\n    const now = new Date();\n    firebase\n      .firestore()\n      .collection(\"deals\")\n      .where(\"expires\", \">=\", now)\n      .orderBy(\"expires\", \"asc\")\n      .get()\n      .then(querySnapshot =>\n        this.setState({\n          deals: querySnapshot.docs.map(doc => doc.data()),\n          loading: false,\n        })\n      )\n      .catch(function (error) {\n        console.log(\"Error getting documents: \", error);\n      });\n  }\n\n  render() {\n    const { deals, loading, error } = this.state;\n\n    if (loading) return <Loader />;\n\n    return (\n      <Layout>\n        <SEO title=\"Home\" />\n        {error && (\n          <React.Fragment>\n            <h1>Uh oh!</h1>\n            <p>{error.toString()}</p>\n          </React.Fragment>\n        )}\n        <DealWrapper>\n          {deals && deals.map((deal, i) => <DealCard key={i} {...deal} />)}\n        </DealWrapper>\n      </Layout>\n    );\n  }\n}\n\nexport default IndexPage;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Spinner = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      animation = _ref.animation,\n      size = _ref.size,\n      children = _ref.children,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"variant\", \"animation\", \"size\", \"children\", \"as\", \"className\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'spinner');\n  var bsSpinnerPrefix = bsPrefix + \"-\" + animation;\n  return React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, bsSpinnerPrefix, size && bsSpinnerPrefix + \"-\" + size, variant && \"text-\" + variant)\n  }), children);\n});\nSpinner.displayName = 'Spinner';\nexport default Spinner;","import React from \"react\";\nimport styled from \"styled-components\";\nimport Spinner from \"react-bootstrap/Spinner\";\n\nconst SpinnerContainer = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Loader = () => (\n  <SpinnerContainer>\n    <Spinner animation=\"border\" role=\"status\" variant=\"primary\">\n      <span className=\"sr-only\">Loading...</span>\n    </Spinner>\n  </SpinnerContainer>\n);\n\nexport default Loader;\n","'use strict';\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar firebase = _interopDefault(require('@firebase/app'));\n\nvar name = \"firebase\";\nvar version = \"7.14.0\";\n/**\r\n * @license\r\n * Copyright 2018 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nfirebase.registerVersion(name, version, 'app');\nmodule.exports = firebase;","import firebase from \"firebase/app\";\n\nif (!firebase.apps.length) {\n  firebase.initializeApp({\n    apiKey: process.env.FIREBASE_API_KEY,\n    authDomain: process.env.FIREBASE_AUTH_DOMAIN,\n    databaseURL: process.env.FIREBASE_DATABASE_URL,\n    projectId: process.env.FIREBASE_PROJECT_ID,\n    storageBucket: process.env.FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.FIREBASE_MESSAGING_SENDER_ID,\n    appId: process.env.FIREBASE_APP_ID,\n    measurementId: process.env.FIREBASE_MEASUREMENT_ID\n  });\n}\n\nexport default firebase;\n","import firebase from \"./src/firebase\";\n\nexport default firebase;\n","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n"],"sourceRoot":""}